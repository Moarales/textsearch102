<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">

    <title>Text Search 102</title>

    <meta name="description" content="A framework for easily creating beautiful presentations using HTML">
    <meta name="author" content="Hakim El Hattab">

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/findologic.css" id="theme">

    <!-- Code syntax highlighting -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>

    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
</head>

<body>

<div class="reveal">

    <!-- Any section element inside of this container is displayed as a slide -->
    <div class="slides">

        <section data-markdown>
            <script type="text/template">
                # Text Search 102

                Georg M. Sorst, CTO FINDOLOGIC
            </script>
        </section>

        <section>
            <section data-markdown>
                <script type="text/template">
                    # Agenda
                </script>
            </section>

            <section data-markdown>
                <script type="text/template">
                    # [I](#/I)

                    * Motivation
                    * Boolean retrieval
                    * Term-document matrix
                    * Inverted index
                    * Querying the index

                    ***

                    * Final projects
                    * Solr Workshop
                    * Homework
                </script>
            </section>

            <section data-markdown>
                <script type="text/template">
                    # [II](#/II)

                    * Homework check

                    ***

                    * Tokenization
                    * Precision & Recall
                    * Ranked Retrieval
                    * Wildcard Queries
                    * Spelling Correction
                    * Phonetic Correction
                    * Field Weights

                    ***

                    * Project status
                    * Solr Q&A
                    * Homework
                </script>
            </section>

            <section data-markdown>
                <script type="text/template">
                    # [III](#/III)

                    * Vocabulary Structure
                    * Scaling
                    * Vector Space Model
                    * Missing Topics

                    ***

                    * Project status
                </script>
            </section>

            <section data-markdown>
                <script type="text/template">
                    # [IV](#/IV)
                    * Web search basics
                    * Web crawling and indexes
                    * Link analysis

                    ***

                    * Feedback
                    * Exam
                    * Project demos
                </script>
            </section>
        </section>

        <section id="I" data-markdown data-separator-notes="^Notes:">
            <script type="text/template">
                # I

                Notes:
            </script>
        </section>

        <section>
            <section data-markdown>
                <script type="text/template">
                    # Motivation
                </script>
            </section>

            <section>
                <img class="stretch" data-src="images/netcraft.png"/>
            </section>

            <section>
                <img class="stretch" data-src="images/wikipedia.png"/>
            </section>

            <section>
                <img class="stretch" data-src="images/printed-internet.png"/>
            </section>

            <section data-markdown>
                <script type="text/template">
                    # Search is everywhere
                    * Internet
                    * eCommerce
                    * CMS, Blogs
                    * Intranet
                    * Academia
                    * ...
                </script>
            </section>
        </section>

        <section>
            <section data-markdown>
                <script type="text/template">
                    # Boolean retrieval
                </script>
            </section>

            <section data-markdown>
                <script type="text/template">
                    Find all **documents** containing the **terms** and satisfying the conditions:

                    ```
                    fh AND salzburg
                    ```

                    ```
                    mmt OR mma
                    ```

                    ```
                    (information AND retrieval) OR search
                    ```
                </script>
            </section>

            <section data-markdown>
                <script type="text/template">
                    # Nomenclature

                    ## Documents <!-- .element: class="fragment" data-fragment-index="1" -->
                    Books, chapters, pages, web pages, news posts... <!-- .element: class="fragment" data-fragment-index="1" -->

                    ## Document collection, Corpus <!-- .element: class="fragment" data-fragment-index="2" -->
                    All the documents <!-- .element: class="fragment" data-fragment-index="2" -->

                    ## Terms <!-- .element: class="fragment" data-fragment-index="3" -->
                    Like words, but maybe "FH Salzburg" and "A1" as well <!-- .element: class="fragment" data-fragment-index="3" -->
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Will it match?

                    ```
                    (information AND retrieval) OR search
                    ```

                    * <!-- .element: class="fragment" --> \#1: _a book about information retrieval_
                    * <!-- .element: class="fragment" style="color: green;" --> Match
                    * <!-- .element: class="fragment" --> \#2: _a book about the search for information_
                    * <!-- .element: class="fragment" style="color: green;" --> Match
                    * <!-- .element: class="fragment" --> \#3: _a book about information_
                    * <!-- .element: class="fragment" style="color: red;" --> No Match

                    Notes:
                    Audience question
                </script>
            </section>

            <section data-markdown>
                <script type="text/template">
                    # Nomenclature

                    ## Information need <!-- .element: class="fragment" data-fragment-index="1" -->
                    What the user is looking for <!-- .element: class="fragment" data-fragment-index="1" -->

                    _"learn about information retrieval and search"_ <!-- .element: class="fragment" data-fragment-index="2" -->

                    ## Query <!-- .element: class="fragment" data-fragment-index="3" -->
                    How the user talks to the computer <!-- .element: class="fragment" data-fragment-index="3" -->

                    `(information AND retrieval) OR search` <!-- .element: class="fragment" data-fragment-index="4" -->
                </script>
            </section>

            <section data-markdown>
                <script type="text/template">
                    # How to search?

                    1. Grep <!-- .element: class="fragment" -->
                    2. Intersect, Union <!-- .element: class="fragment" -->
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # How to search?

                    * <!-- .element: class="fragment" data-fragment-index="1" --> \#1: _a book about information retrieval_
                    * <!-- .element: class="fragment" data-fragment-index="1" --> \#2: _a book about the search for information_
                    * <!-- .element: class="fragment" data-fragment-index="1" --> \#3: _a book about information_

                    ```
                    (information AND retrieval) OR search
                    ```
                    <!-- .element: class="fragment" data-fragment-index="1" -->

                    ![...](images/grep.png) <!-- .element: class="fragment" data-fragment-index="2" -->
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Complexity?

                    &Omicron;(num terms in corpus) <!-- .element: class="fragment" -->

                    Notes:
                    Audience question
                </script>
            </section>
        </section>

        <section>
            <section data-markdown>
                <script type="text/template" data-separator-notes="^Notes:">
                    # Term-document matrix

                    * <!-- .element: class="fragment" data-fragment-index="1" --> Aka _incidence matrix_
                    * <!-- .element: class="fragment" data-fragment-index="1" --> Rows = Terms, Columns = Docs
                    * <!-- .element: class="fragment" data-fragment-index="1" --> Cell = 1 if Term in Doc, else 0
                    * <!-- .element: class="fragment" data-fragment-index="1" --> Needs to pre-built
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    * \#1: _a book about information retrieval_
                    * \#2: _a book about the search for information_
                    * \#3: _a book about information_

                    ***

                    |             | #1 | #2 | #3 |
                    |-------------|----|----|----|
                    | **Book**        | 1<!-- .element: class="fragment" data-fragment-index="1" -->  | 1<!-- .element: class="fragment" data-fragment-index="5" -->  | 1<!-- .element: class="fragment" data-fragment-index="9" -->  |
                    | **Information** | 1<!-- .element: class="fragment" data-fragment-index="2" -->  | 1<!-- .element: class="fragment" data-fragment-index="6" -->  | 1<!-- .element: class="fragment" data-fragment-index="10" -->  |
                    | **Retrieval**   | 1<!-- .element: class="fragment" data-fragment-index="3" -->  | 0<!-- .element: class="fragment" data-fragment-index="7" -->  | 0<!-- .element: class="fragment" data-fragment-index="11" -->  |
                    | **Search**      | 0<!-- .element: class="fragment" data-fragment-index="4" -->  | 1<!-- .element: class="fragment" data-fragment-index="8" -->  | 0<!-- .element: class="fragment" data-fragment-index="12" -->  |

                    Notes:
                    Audience question
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    |             | #1 | #2 | #3 |
                    |-------------|----|----|----|
                    | Book        | 1  | 1  | 1  |
                    | Information | 1  | 1  | 1  |
                    | Retrieval   | 1  | 0  | 0  |
                    | Search      | 0  | 1  | 0  |

                    ***

                    * Document vector
                      * <!-- .element: class="fragment" --> \#1: `(1, 1, 1, 0)`
                    * Term vector
                      * <!-- .element: class="fragment" --> _Retrieval_: `(1, 0, 0)`

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # How to query

                    * (information AND retrieval) OR search
                    * = (111 &and; 100) &or; 010 <!-- .element: class="fragment" -->
                    * = 100 &or; 010 <!-- .element: class="fragment" -->
                    * = 110 <!-- .element: class="fragment" -->
                    * = \#1 and \#2 <!-- .element: class="fragment" -->

                    Notes:
                    Audience question
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Size

                    * `num(distinct terms)*num(docs)`
                    * Very sparse (lots of 0s)

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    <!-- .element: class="stretch" --> ![...](images/buch-index.png)

                    Notes:
                </script>
            </section>

        </section>

        <section>
            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Inverted index

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    * Store only 1s = Term occurences
                    * Terms -> Docs

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    * \#1: _a book about information retrieval_
                    * \#2: _a book about the search for information_
                    * \#3: _a book about information_

                    ***

                    | Term        | Doc IDs    |
                    |-------------|------------|
                    | Book        | #1, #2, #3 <!-- .element: class="fragment" --> |
                    | Information | #1, #2, #3 <!-- .element: class="fragment" --> |
                    | Retrieval   | #1         <!-- .element: class="fragment" --> |
                    | Search      | #2         <!-- .element: class="fragment" --> |

                    Notes: Audience question
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Nomenclature

                    ## Vocabulary / Dictionary / Lexicon <!-- .element: class="fragment" data-fragment-index="1" -->
                    List of terms <!-- .element: class="fragment" data-fragment-index="1" -->

                    ## Posting <!-- .element: class="fragment" data-fragment-index="2" -->
                    Document which term occurs in <!-- .element: class="fragment" data-fragment-index="2" -->

                    ## Postings list <!-- .element: class="fragment" data-fragment-index="3" -->
                    All documents which term occurs in <!-- .element: class="fragment" data-fragment-index="3" -->

                    ## Postings <!-- .element: class="fragment" data-fragment-index="4" -->
                    All postings lists <!-- .element: class="fragment" data-fragment-index="4" -->

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Index time

                    1. Extract terms from docs
                    2. Sort vocabulary alphabetically
                    3. Sort postings lists by document ID

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Query time

                    1. Look up each query term in vocabulary
                    2. Retrieve postings
                    3. Intersect / Union

                    Notes:
                </script>
            </section>

            <section>
                <table>
                    <tr>
                        <th>Term</th>
                        <th>Doc IDs</th>
                    </tr>
                    <tr>
                        <td>Book</td>
                        <td>#1, #2, #3</td>
                    </tr>
                    <tr class="fragment highlight-fl" data-fragment-index="2">
                        <td>Information</td>
                        <td>#1, #2, #3</td>
                    </tr>
                    <tr>
                        <td>Retrieval</td>
                        <td>#1</td>
                    </tr>
                    <tr class="fragment highlight-fl" data-fragment-index="3">
                        <td>Search</td>
                        <td>#2</td>
                    </tr>
                </table>

                <hr/>

                <p class="fragment" data-fragment-index="1"><strong>Query</strong>:
                    <span class="fragment highlight-fl" data-fragment-index="2">
                        Information
                    </span>
                    <span>AND</span>
                    <span class="fragment highlight-fl" data-fragment-index="3">
                        Search
                    </span>
                </p>

                <p class="fragment fade-in" data-fragment-index="4">
                    (#1, #2, #3) AND (#2)
                </p>


                <h3 class="fragment fade-in" data-fragment-index="5">
                    &rarr; #2
                </h3>

                <aside class="notes">
                    Audience question
                </aside>
            </section>

            <!--section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    TODO: Intersect algorithm

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    * Keep vocabulary in memory
                    * Postings may be swapped out

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    ## Why?

                    * Support ad-hoc retrieval
                    * Support more operators, such as `NEAR`
                    * Support ranked retrieval

                    Notes:
                </script>
            </section-->
        </section>

        <section data-markdown data-separator-notes="^Notes:">
            <script type="text/template">
                # Final projects

                Notes:
            </script>
        </section>

        <section data-markdown data-separator-notes="^Notes:">
            <script type="text/template">
                [Solr Workshop](https://tiny.cc/solr-workshop)

                Notes:
            </script>
        </section>

        <section data-markdown data-separator-notes="^Notes:">
            <script type="text/template">
                # Homework

                * Built inverted index from text files
                * Query using implicit AND
                * Command-line interface
                * Read docs on startup
                    * *.txt in directory
                * Ask for query
                    * Display list of matching filenames
                    * Ask for next query
                * Your favorite **open-source** programming language
                * Use [1.txt](files/1.txt), [2.txt](files/2.txt), [3.txt](files/3.txt)
                * Provide instructions on how to run (including version, dependencies etc.)
                * **Deadline**: 03.05.2017 23:59:59

                Notes:
             </script>
        </section>

        <section id="II" data-markdown data-separator-notes="^Notes:">
            <script type="text/template">
                # II

                Notes:
            </script>
        </section>

        <section>
            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Tokenization

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Tokenization

                    > a book about information retrieval <!-- .element: class="fragment" data-fragment-index="1" -->

                    &darr; <!-- .element: class="fragment" data-fragment-index="2" -->

                    `[a, book, about, information, retrieval]` <!-- .element: class="fragment" data-fragment-index="2" -->

                    > "Information Retrieval": Also available as e-book! <!-- .element: class="fragment" data-fragment-index="3" -->

                    &darr; <!-- .element: class="fragment" data-fragment-index="4" -->

                    `[Information Retrieval]? [Information, Retrieval]?` <!-- .element: class="fragment" data-fragment-index="4" -->

                    `[e-book]? [eBook]? [e, book]?` <!-- .element: class="fragment" data-fragment-index="4" -->

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Challenge

                    * Inverted index can only find exact tokens <!-- .element: class="fragment" data-fragment-index="1" -->

                    ***
                    <!-- .element: class="fragment" data-fragment-index="2" -->
                    | Term        | Doc IDs    |
                    |-------------|------------|
                    | book        | #1, #2, #3  |
                    | information | #1, #2, #3  |
                    | retrieval   | #1          |
                    | search      | #2          |
                    <!-- .element: class="fragment" data-fragment-index="2" -->
                    ***
                    <!-- .element: class="fragment" data-fragment-index="2" -->

                    * <!-- .element: class="fragment" data-fragment-index="3" --> _e-book_ will not find _book_

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Challenge

                    * <!-- .element: class="fragment" --> How can _books_ find _book_?
                    * <!-- .element: class="fragment" --> _wi-fi_  &leftrightarrow; _wifi_?
                    * <!-- .element: class="fragment" --> _Jack's_  &leftrightarrow; _Jack_?
                    * <!-- .element: class="fragment" --> _MMT_ &leftrightarrow; _Multimediatechnology_?
                    * <!-- .element: class="fragment" --> _U.S.A._ &leftrightarrow; _USA_?

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Text analysis

                    * Analyse docs and query
                    * Add, remove, change terms

                    Notes:
                </script>
            </section>

            <section>
                <table class="stretch">
                    <tr>
                        <th style="border-right: 1px solid rgb(34, 34, 34);"></th>
                        <th colspan="7" style="border-right: 1px solid rgb(34, 34, 34);">Index</th>
                        <th colspan="3">Query</th>
                    </tr>
                    <tr>
                        <td style="border-right: 1px solid rgb(34, 34, 34);"></td>
                        <td colspan="7" style="border-right: 1px solid rgb(34, 34, 34);"><span class="fragment" data-fragment-index="1">a wi-fi router</span></td>
                        <td colspan="3"><span class="fragment" data-fragment-index="1">The Wireless Routers</span></td>
                    </tr>
                    <tr>
                        <td style="border-right: 1px solid rgb(34, 34, 34);">Tokenization</td>
                        <td><span class="fragment" data-fragment-index="2">a</span></td>
                        <td><span class="fragment" data-fragment-index="2">wi-fi</span></td>
                        <td colspan="5" style="border-right: 1px solid rgb(34, 34, 34);"><span class="fragment" data-fragment-index="2">router</span></td>
                        <td><span class="fragment" data-fragment-index="9">The</span></td>
                        <td><span class="fragment" data-fragment-index="9">Wireless</span></td>
                        <td><span class="fragment" data-fragment-index="9">Routers</span></td>
                    </tr>
                    <tr>
                        <td style="border-right: 1px solid rgb(34, 34, 34);">Lowercasing</td>
                        <td><span class="fragment" data-fragment-index="4">a</span></td>
                        <td><span class="fragment" data-fragment-index="4">wi-fi</span></td>
                        <td colspan="5" style="border-right: 1px solid rgb(34, 34, 34);"><span class="fragment" data-fragment-index="4">router</span></td>
                        <td><span class="fragment" data-fragment-index="10">the</span></td>
                        <td><span class="fragment" data-fragment-index="10">wireless</span></td>
                        <td><span class="fragment" data-fragment-index="10">routers</span></td>
                    </tr>
                    <tr>
                        <td style="border-right: 1px solid rgb(34, 34, 34);">Stop words</td>
                        <td></td>
                        <td><span class="fragment" data-fragment-index="5">wi-fi</span></td>
                        <td colspan="5" style="border-right: 1px solid rgb(34, 34, 34);"><span class="fragment" data-fragment-index="5">router</span></td>
                        <td></td>
                        <td><span class="fragment" data-fragment-index="11">wireless</span></td>
                        <td><span class="fragment" data-fragment-index="11">routers</span></td>
                    </tr>
                    <tr>
                        <td style="border-right: 1px solid rgb(34, 34, 34);">Word delimiter<br>(Index only)</td>
                        <td></td>
                        <td><span class="fragment" data-fragment-index="6">wi-fi</span></td>
                        <td><span class="fragment" data-fragment-index="6">wi</span></td>
                        <td><span class="fragment" data-fragment-index="6">fi</span></td>
                        <td><span class="fragment" data-fragment-index="6">wifi</span></td>
                        <td colspan="2" style="border-right: 1px solid rgb(34, 34, 34);"><span class="fragment" data-fragment-index="6">router</span></td>
                        <td></td>
                        <td><span class="fragment" data-fragment-index="12">wireless</span></td>
                        <td><span class="fragment" data-fragment-index="12">routers</span></td>
                    </tr>
                    <tr>
                        <td style="border-right: 1px solid rgb(34, 34, 34);">Stemming</td>
                        <td></td>
                        <td><span class="fragment" data-fragment-index="7">wi-fi</span></td>
                        <td><span class="fragment" data-fragment-index="7">wi</span></td>
                        <td><span class="fragment" data-fragment-index="7">fi</span></td>
                        <td><span class="fragment" data-fragment-index="7">wifi</span></td>
                        <td colspan="2" style="border-right: 1px solid rgb(34, 34, 34);"><span class="fragment" data-fragment-index="7">router</span></td>
                        <td></td>
                        <td><span class="fragment" data-fragment-index="13">wireless</span></td>
                        <td><span class="fragment" data-fragment-index="13">router</span></td>
                    </tr>
                    <tr>
                        <td style="border-right: 1px solid rgb(34, 34, 34);">Synonyms<br>wifi &rarr; wireless<br>(Index only)</td>
                        <td></td>
                        <td><span class="fragment" data-fragment-index="8">wi-fi</span></td>
                        <td><span class="fragment" data-fragment-index="8">wi</span></td>
                        <td><span class="fragment" data-fragment-index="8">fi</span></td>
                        <td><span class="fragment" data-fragment-index="8">wifi</span></td>
                        <td><span class="fragment" data-fragment-index="8">
                            <span class="fragment highlight-fl" data-fragment-index="15">wireless</span>
                        </span></td>
                        <td style="border-right: 1px solid rgb(34, 34, 34);"><span class="fragment" data-fragment-index="8">
                            <span class="fragment highlight-fl" data-fragment-index="15">router</span>
                        </span></td>
                        <td></td>
                        <td><span class="fragment" data-fragment-index="14">
                            <span class="fragment highlight-fl" data-fragment-index="15">wireless</span>
                        </span></td>
                        <td><span class="fragment" data-fragment-index="14">
                            <span class="fragment highlight-fl" data-fragment-index="15">router</span>
                        </span></td>
                    </tr>
                </table>

                <aside class="notes">
                    Will increase relevance, but reduce precision
                </aside>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    ![analysis](images/analysis.png)

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Nomenclature

                    ## Token <!-- .element: class="fragment" data-fragment-index="1" -->
                    * Character sequence, meaningful semantic unit <!-- .element: class="fragment" data-fragment-index="1" -->
                    * No analysis yet <!-- .element: class="fragment" data-fragment-index="1" -->
                    * <!-- .element: class="fragment" data-fragment-index="1" --> _the_, _routers_

                    ## Type <!-- .element: class="fragment" data-fragment-index="2" -->
                    * Distinct tokens, same token counts only once <!-- .element: class="fragment" data-fragment-index="2" -->
                    * <!-- .element: class="fragment" data-fragment-index="2" --> _the_, _routers_

                    ## Terms <!-- .element: class="fragment" data-fragment-index="3" -->
                    * Index tokens <!-- .element: class="fragment" data-fragment-index="3" -->
                    * <!-- .element: class="fragment" data-fragment-index="3" --> _router_
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Outcome

                    * <!-- .element: class="fragment" --> Find more results: _wireless_ &rarr; _wi-fi_
                    * <!-- .element: class="fragment" --> Find more imprecise results: _wi-fi_ &rarr; _wireless_
                    * <!-- .element: class="fragment" --> Miss some results: _to be or not to be_

                    Notes:
                    * Will this find more results?
                    * Will this find less accurate results?
                </script>
            </section>
        </section>

        <section>
            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Precision & Recall

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Precision

                    * Are all results relevant?

                    Notes:
                </script>
            </section>
            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Recall

                    * Are all relevant documents in the results?

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    ![precision-recall](images/precision-recall.png)

                    Notes:
                    * Am Whiteboard machen?
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Evaluation

                    * Requires human effort <!-- .element: class="fragment" data-fragment-index="1" -->
                    * Annotated corpus: <!-- .element: class="fragment" data-fragment-index="2" -->

                    | Document / Information Need | Smartphone | Apple Smartphone | Smartphone Accessory |
                    |-----------------------------|------------|------------------|----------------------|
                    | Apple iPhone 7 | ✓ <!-- .element: class="fragment" data-fragment-index="4" --> | ✓ <!-- .element: class="fragment" data-fragment-index="4" --> | - <!-- .element: class="fragment" data-fragment-index="4" --> |
                    | Samsung Galaxy S7 | ✓ <!-- .element: class="fragment" data-fragment-index="5" --> | - <!-- .element: class="fragment" data-fragment-index="5" --> | - <!-- .element: class="fragment" data-fragment-index="5" --> |
                    | Cover for Samsung Galaxy S7 | - <!-- .element: class="fragment" data-fragment-index="6" --> | - <!-- .element: class="fragment" data-fragment-index="6" --> | ✓ <!-- .element: class="fragment" data-fragment-index="6" --> |
                    | Battery pack | - <!-- .element: class="fragment" data-fragment-index="7" --> | - <!-- .element: class="fragment" data-fragment-index="7" --> | ✓ <!-- .element: class="fragment" data-fragment-index="7" --> |
                    <!-- .element: class="fragment" data-fragment-index="3" -->

                    * Augment with click logs <!-- .element: class="fragment" data-fragment-index="8" -->

                    Notes:

                    * Audience participation
                 </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Precision & Recall

                    * <!-- .element: class="fragment" --> Will never be 100% both
                    * <!-- .element: class="fragment" --> Rank results according to relevance

                    Notes:
                    * How to achieve 100% recall?
                    * How to achieve 100% precision?
                </script>
            </section>
        </section>

        <section>
            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Ranked retrieval

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Idea I

                    ### <!-- .element: class="fragment" --> Multiple matches for query term = more important document

                    <blockquote class="fragment">A shop where **books** are bought and sold is a **book**shop or **book**store. **Books** can also be borrowed from libraries.</blockquote>

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Idea II

                    ### <!-- .element: class="fragment" --> Infrequent terms in corpus are more important
                    <!-- .element: class="fragment" --> `apple iphone` &rarr; `iphone` more important than `apple` when searching apple.com


                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # I: Term frequency

                    ###<!-- .element: class="fragment" --> At index time:

                    * <!-- .element: class="fragment" --> Count term occurrences per doc
                    * <!-- .element: class="fragment" --> Ignore order of terms
                    * <!-- .element: class="fragment" --> _Bag of words_

                    <!-- .element: class="fragment" --> ![Tag cloud](https://upload.wikimedia.org/wikipedia/commons/5/5b/Word_Cloud_Readers_Survey.jpg)

                    Notes:
                    * Where to save TF info?
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # TF

                    * \#1: _a book providing information about information retrieval_
                    * \#2: _a book about the search for books_
                    * \#3: _a book about information_

                    ***

                    | Term        | Doc IDs    |
                    |-------------|------------|
                    | Book        | #1:1, #2:2, #3:1 <!-- .element: class="fragment" --> |
                    | Information | #1:2, #3:1 <!-- .element: class="fragment" --> |
                    | Retrieval   | #1:1         <!-- .element: class="fragment" --> |
                    | Search      | #2:1         <!-- .element: class="fragment" --> |

                    Notes:
                    * Audience participation
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # TF pitfalls

                    * <!-- .element: class="fragment" --> Not always true
                    * <!-- .element: class="fragment" --> The Bible does not contain "_the bible_"
                    * <!-- .element: class="fragment" --> Web spam
                    * <!-- .element: class="fragment" --> Normalize long documents

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # II: Inverse document frequency

                    * <!-- .element: class="fragment" --> Rank uncommon terms higher
                    * <!-- .element: class="fragment" --> Only relevant for OR search
                    * <!-- .element: class="fragment" --> "apple iphone" &rarr; "iphone" more important than "apple"
                    * <!-- .element: class="fragment" --> `idf(t) = num_docs / df(t)`

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # IDF

                    * \#1: _a book providing information about information retrieval_
                    * \#2: _a book about the search for books_
                    * \#3: _a book about information_

                    ***

                    | Term        | IDF | Doc IDs    |
                    |-------------|------------|
                    | Book        | 1  <!-- .element: class="fragment" --> | #1:1, #2:2, #3:1 |
                    | Information | 1.5<!-- .element: class="fragment" --> | #1:2, #3:1  |
                    | Retrieval   | 3  <!-- .element: class="fragment" --> | #1:1          |
                    | Search      | 3  <!-- .element: class="fragment" --> | #2:1          |

                    Notes:

                    * idf(t) = 1 is special case
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # TF-IDF Ranking

                    ![tf-idf](images/tf-idf.png)<!-- .element: style="border: none; box-shadow: none;" -->
                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    | Term        | IDF | Doc IDs    |
                    |-------------|------------|
                    | Book        | 1   | #1:1, #2:2, #3:1 |
                    | Information | 1.5 | #1:2, #3:1  |
                    | Retrieval   | 3   | #1:1          |
                    | Search      | 3   | #2:1          |

                    ```
                    information retrieval search
                    ```

                    ### \#1 <!-- .element: class="fragment" -->

                    2 &times; 1.5 + 1 &times; 3 + 0 &times; 3 = 6 <!-- .element: class="fragment" -->

                    ### \#2 <!-- .element: class="fragment" -->

                    0 &times; 1.5 + 0 &times; 3 + 1 &times; 3 = 3 <!-- .element: class="fragment" -->

                    ### \#3 <!-- .element: class="fragment" -->

                    1 &times; 1.5 + 0 &times; 3 + 0 &times; 3 = 1.5 <!-- .element: class="fragment" -->

                    Notes:
                </script>
            </section>
        </section>

        <section>
            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Wildcard queries

                    *Apple i**

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Wildcard queries

                    <!-- .element: class="fragment" --> Expand query:

                    <!-- .element: class="fragment" --> `i*`

                    <!-- .element: class="fragment" --> &darr;

                    <!-- .element: class="fragment" --> `iPhone OR  iPad OR iPod`

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Wildcard queries

                    ##### <!-- .element: class="fragment" --> `salz*`
                    <!-- .element: class="fragment" --> Comes free with search tree (later)

                    ##### <!-- .element: class="fragment" --> `*burg`
                    <!-- .element: class="fragment" --> Build index with reversed terms

                    ##### <!-- .element: class="fragment" --> `sal*urg`
                    <!-- .element: class="fragment" --> Intersect regular and reverse tree

                    Notes:
                    * How to get prefix wildcard queries?
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # N-gram queries

                    <!-- .element: class="fragment" --> `search`

                    <!-- .element: class="fragment" --> &darr; (3-gram)

                    <!-- .element: class="fragment" --> $`se, sea, ear, arc, rch, ch`$

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # N-gram queries

                    ### At index time

                    |   | Term | Doc IDs |
                    |---|------|---------|
                    |   | $se  | 1, 2, 3 |
                    |   | arc  | 1       |
                    |   | ch$  | 1, 8    |
                    |   | ear  | 1, 7    |
                    |   | rch  | 1       |
                    |   | sea  | 1, 5, 9 |

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # N-gram queries

                    ### At query time

                    <!-- .element: class="fragment" --> Expand query

                    <!-- .element: class="fragment" --> `sea*`

                    <!-- .element: class="fragment" --> &darr;

                    <!-- .element: class="fragment" --> `$se AND sea`

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # N-gram queries

                    `$se AND sea`

                    |   | Term | Doc IDs |
                    |---|------|---------|
                    |   | $se <!-- .element: class="fragment highlight-fl" data-fragment-index="1" -->  | <span>1</span><!-- .element: class="fragment highlight-fl" data-fragment-index="3" -->, 2, 3 |
                    |   | arc  | 1       |
                    |   | ch$  | 1, 8    |
                    |   | ear  | 1, 7    |
                    |   | rch  | 1       |
                    |   | sea <!-- .element: class="fragment highlight-fl" data-fragment-index="2" --> | <span>1</span><!-- .element: class="fragment highlight-fl" data-fragment-index="3" -->, 5, 9 |

                    Notes:
                </script>
            </section>
        </section>

        <section>
            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Spelling correction

                    *Palystation, Xboy, Witch*

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Spelling correction

                    ![iformmetoin](images/iformmetoin.png) <!-- .element: class="fragment" style="border: none;" -->

                    1. <!-- .element: class="fragment" --> Find alternatives
                    2. <!-- .element: class="fragment" --> Evaluate alternatives
                    3. <!-- .element: class="fragment" --> Return alternative results

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # 1. Find alternatives

                    <!-- .element: class="fragment" --> `bock`

                    <!-- .element: class="fragment" --> &darr;

                    <!-- .element: class="fragment" --> `book`, `rock`, `spock`

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Find alternatives

                    * Compare query with vocabulary
                    * Use index or query log
                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Levenshtein

                    * Edit distance between two words
                    * Count inserts, deletes, replaces, swaps

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Levenshtein

                    <table>
                        <tr>
                            <td>iformmetoin~</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td><span class="fragment">1. Add **n**</span></td>
                            <td><span class="fragment">informmetoin</span></td>
                        </tr>
                        <tr>
                            <td><span class="fragment">2. Delete **m**</span></td>
                            <td><span class="fragment">informetoin</span></td>
                        </tr>
                        <tr>
                            <td><span class="fragment">3. Replace **e** with **a**</span></td>
                            <td><span class="fragment">informatoin</span></td>
                        </tr>
                        <tr>
                            <td><span class="fragment">4. Swap **o** and **i**</span></td>
                            <td><span>information</span></td>
                        </tr>
                    </table>

                    <div class="fragment">
                        <p>&darr;</p>
                        <p>Levenshtein distance = 4</p>
                    </div>

                    Notes:
                    * Audience question
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Levenshtein

                    * Weighted (keyboard distance)

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Levenshtein

                    * Expensive
                    * Cannot be precomputed
                    * `num(query terms) × num(vocabulary terms)`

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # 2. Evaluate alternatives

                    * Isolated
                    * Context

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Isolated

                    * <!-- .element: class="fragment" --> `seach endine`?
                      * <!-- .element: class="fragment" --> &rarr; `peach engine`
                      * <!-- .element: class="fragment" --> &rarr; `search ending`
                      * <!-- .element: class="fragment" --> &rarr; `search engine`

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Context

                    * <!-- .element: class="fragment" data-fragment-index="1" --> Find alternatives for every misspelled query term &rarr; collations
                    * <!-- .element: class="fragment" data-fragment-index="2" --> Search for collation and evaluate results

                    <hr class="fragment" data-fragment-index="3" />

                    * <!-- .element: class="fragment" data-fragment-index="4" --> `seach endine`?
                      * <!-- .element: class="fragment" data-fragment-index="5" --> `seach` &rarr; `peach, search`
                      * <!-- .element: class="fragment" data-fragment-index="6" --> `endine` &rarr; `ending, engine`

                    <hr class="fragment" data-fragment-index="7" />

                    * <!-- .element: class="fragment" data-fragment-index="8" --> `seach endine`?
                      * <!-- .element: class="fragment" data-fragment-index="9" --> &rarr; `peach engine`? 0 results
                      * <!-- .element: class="fragment" data-fragment-index="10" --> &rarr; `peach ending`? 0 results
                      <li class="fragment" data-fragment-index="11" >&rarr; `search ending`<!-- .element: class="fragment highlight-fl" data-fragment-index="13" -->? 5 results</li>
                      <li class="fragment" data-fragment-index="12" >&rarr; `search engine`<!-- .element: class="fragment highlight-fl" data-fragment-index="13" -->? 10 results</li>

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Evaluate alternatives

                    * <!-- .element: class="fragment" --> Most results
                    * <!-- .element: class="fragment" --> Best results
                    * <!-- .element: class="fragment" --> Most searched

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # 3. Return alternative results

                    * Feedback
                    * Transparency

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    ![Did you mean](images/Did you mean.png)

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    ![Instead](images/Instead.png)

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    ![Showing results for](images/Showing results for.png)

                    Notes:
                </script>
            </section>
        </section>

        <section>
            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Phonetic correction

                    *Meyer, Mayer, Maier?*

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Soundex

                    * <!-- .element: class="fragment" --> For proper names, brand names, drugs
                    * <!-- .element: class="fragment" --> Encode strings according to their sounds
                    * <!-- .element: class="fragment" --> `Meier` &rarr; `M600`

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Index

                    | Term (not in index) | Soundex | Doc IDs |
                    |----------------------------|---------|---------|
                    | _<span class="fragment highlight-fl" data-fragment-index="3">meier</span>, maier, mayer, meyer_ | <span class="fragment highlight-fl" data-fragment-index="3">M600</span> | <span class="fragment highlight-fl" data-fragment-index="3">1, 3, 5</span> |
                    | _müller, mueller_ | M460 | 2, 4, 6 |
                    | _goethe, göthe_ | G300 | 7, 8, 9 |
                    <!-- .element: class="fragment" data-fragment-index="1" -->

                    # Query <!-- .element: class="fragment" data-fragment-index="2" -->

                    <p><span class="fragment" data-fragment-index="2">`Meier` &rarr; `M600`</span><span class="fragment" data-fragment-index="3">&rarr; 1, 3, 5</span></p>
                    <p><span class="fragment" data-fragment-index="4">`Maier` &rarr; `M600` &rarr; 1, 3, 5</span></p>

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Result quality

                    * <!-- .element: class="fragment" data-fragment-index="1" -->Recall up
                    * <!-- .element: class="fragment" data-fragment-index="1" --> Precision down

                    Notes:
                    * What does spelling correction do to recall / precision?
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Soundex alternatives

                    * Daitch–Mokotoff Soundex
                    * Metaphone
                    * Double Metaphone

                    Notes:
                </script>
            </section>
        </section>

        <section>
            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Field weights

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Field weights

                    ![field weights](images/fields.png)

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Weighted index

                    | Doc | Author | Title |
                    |-----|-----------------|----------------------------------------------------------|
                    | #1 | Arthur McAuthor | A book providing information about information retrieval |
                    | #2 | Shakesbeer | A book about the search for King Arthur |

                    ***

                    | Term | Doc IDs |
                    |-------------|-------------------------------|
                    | arthur | #1:Author, #2:Title |
                    | book | #1:Title, #2:Title |
                    | information | #1:Title |
                    | mcauthor | #1:Author |
                    | shakesbeer | #2:Author |
                    | ... |

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Field queries

                    | Term | Doc IDs |
                    |-------------|-------------------------------|
                    | arthur | #1:Author, #2:Title |
                    | shakesbeer | #2:Author |
                    | ... |

                    ***

                    * <!-- .element: class="fragment" --> `title:arthur`? <span class="fragment">#2</span>
                    * <!-- .element: class="fragment" --> `author:shakesbeer`? <span class="fragment">#2</span>

                    Notes:
                    * Audience question
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Field weights

                    | Term | Doc IDs |
                    |-------------|-------------------------------|
                    | <span class="fragment highlight-current-fl" data-fragment-index="3"><span class="fragment highlight-current-fl" data-fragment-index="5">arthur</span></span> | <span class="fragment highlight-current-fl" data-fragment-index="3">#1:Author</span>, <span class="fragment highlight-current-fl" data-fragment-index="5">#2:Title</span> |
                    | <span class="fragment highlight-current-fl" data-fragment-index="3"><span class="fragment highlight-current-fl" data-fragment-index="5">book</span></span> | <span class="fragment highlight-current-fl" data-fragment-index="3">#1:Title</span>, <span class="fragment highlight-current-fl" data-fragment-index="5">#2:Title</span> |
                    | ... |

                    ***

                    * `weight(author) = 10`
                    * `weight(title) = 1`

                    ***

                    * <!-- .element: class="fragment" data-fragment-index="1" --> `arthur book`?
                      * \#1 &rarr; <!-- .element: class="fragment" data-fragment-index="2" --> <span class="fragment" data-fragment-index="3"><span class="fragment highlight-current-fl" data-fragment-index="3">author + title = 10 + 1 = **11**</span></span>
                      * \#2 &rarr; <!-- .element: class="fragment" data-fragment-index="4" --> <span class="fragment" data-fragment-index="5"><span class="fragment highlight-current-fl" data-fragment-index="5">title + title = 1 + 1 = **2**</span></span>

                    Notes:
                    * Audience question
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Field weights

                    * Determining weights is hard
                    * Use annotated corpus

                    Notes:
                </script>
            </section>
        </section>

        <section data-markdown data-separator-notes="^Notes:">
            <script type="text/template">
                # Project status

                * Any questions?
                * Requirements:
                  * At least one facet (filter)
                  * Case insensitive search
                  * Search multiple fields with different weights

                Notes:
            </script>
        </section>

        <section data-markdown data-separator-notes="^Notes:">
            <script type="text/template">
                # Solr

                Any questions?

                Notes:
            </script>
        </section>

        <section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Homework

                    Implement TF scoring

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    ```
                    Enter query, empty to quit:
                    ? salzburg
                    Found 28 results, showing top 5

                    Archbishopric_of_Salzburg.txt: score 22
                        salzburg: 22

                    Herbert_von_Karajan.txt: score 6
                        salzburg: 6

                    Wolfgang_Amadeus_Mozart.txt: score 6
                        salzburg: 6

                    Salzburg_Austria.txt: score 2
                        salzburg: 2

                    Alfons_Schuhbeck.txt: score 2
                        salzburg: 2
                    ```
                    <!-- .element: class="stretch" -->

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    ```
                    Enter query, empty to quit:
                    ? austria germany
                    Found 128 results, showing top 5

                    Germany.txt: score 65
                        austria: 4
                        germany: 61

                    Treaty_of_Versailles.txt: score 37
                        austria: 10
                        germany: 27

                    Berlin_Wall.txt: score 30
                        austria: 3
                        germany: 27

                    World_War_I.txt: score 27
                        austria: 5
                        germany: 22

                    Anti_tobacco_movement_in_Nazi_Germany.txt: score 27
                        austria: 2
                        germany: 25
                    ```
                    <!-- .element: class="stretch" -->

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Homework

                    * Build on first homework
                    * Add TF scoring
                    * Display top 5 results
                    * For each result show total score and per-term score
                    * Bonus points
                      * Implement TF normalization
                      * Parallelize indexing
                    * Use [simple-wikipedia.zip](files/simple-wikipedia.zip)
                    * Provide instructions on how to run (including version, dependencies etc.)
                    * **Deadline**: 17.05.2017 23:59:59

                    Notes:
                </script>
            </section>
        </section>

        <section id="III" data-markdown data-separator-notes="^Notes:">
            <script type="text/template">
                # III

                Notes:
            </script>
        </section>

        <section>
            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Vocabulary structure

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Vocabulary structure

                    * <!-- .element: class="fragment" --> Dictionary / Hash table
                    * <!-- .element: class="fragment" --> Search tree

                    Notes:
                    * Suggestions?
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Hash table

                    ![hash table](images/hash-table.png) <!-- .element: class="stretch" -->

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Hash table

                    * <!-- .element: class="fragment" --> \+ Fast lookup: &Omicron;(1)
                    * <!-- .element: class="fragment" --> \+ Fast insert: &Omicron;(1)
                    * <!-- .element: class="fragment" --> \- Collisions
                    * <!-- .element: class="fragment" --> \- Rehashing
                    * <!-- .element: class="fragment" --> \- High worst case complexity: &Omicron;(n)

                    Notes:
                    * What is the complexity of lookup / insert? Ο(1)
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Binary tree

                    ![binary tree](images/binary-tree.png)<!-- .element: class="stretch" style="border: none; box-shadow: none;" -->

                    http://nlp.stanford.edu/IR-book/

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Binary tree

                    * <!-- .element: class="fragment" --> \+ Fast lookup: &Omicron;(log n)
                    * <!-- .element: class="fragment" --> \+ Fast insertion: &Omicron;(log n)
                    * <!-- .element: class="fragment" --> \- Rebalancing
                    * <!-- .element: class="fragment" --> \- High worst case complexity: &Omicron;(n)

                    Notes:
                    * What is the lookup / insert complexity? Ο(log n)
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # B-tree

                    ![b-tree](images/b-tree.png)<!-- .element: class="stretch" style="border: none; box-shadow: none;" -->

                    http://nlp.stanford.edu/IR-book/

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # B-tree

                    * <!-- .element: class="fragment" --> \+ Fast lookup: &Omicron;(log n)
                    * <!-- .element: class="fragment" --> \+ Fast insertion: &Omicron;(log n)
                    * <!-- .element: class="fragment" --> \+ No worst case complexity
                    * <!-- .element: class="fragment" --> Less frequent rebalancing

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Free wildcard queries!

                    Notes:
                    * Why?
                </script>
            </section>
        </section>


        <section>
            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Scaling

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Scaling reasons

                    * Query volume <!-- .element: class="fragment" -->
                    * Index volume <!-- .element: class="fragment" -->
                    * Resiliency <!-- .element: class="fragment" -->

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Scaling

                    ![scaling](images/scaling.png) <!-- .element: style="border: none; box-shadow: none;" -->

                    Notes:
                    What are the two directions we can scale to?
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Scaling up / Vertical

                    ![scaling up](images/scaling up.png) <!-- .element: style="border: none; box-shadow: none;" -->

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Scaling up

                    * \+ Easy
                    * \+ Little overhead (network, hardware)
                    * \- No fault-tolerance
                    * \- No parallelization
                    * \- Scaling limited by hardware

                    <!-- .element: style="list-style-type: none;" -->

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Scaling out / Horizontal

                    ![scaling out](images/scaling out.png) <!-- .element: style="border: none; box-shadow: none;" -->

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Scaling out

                    * \+ Fault-tolerance, resiliency
                    * \+ Parallelization
                    * \+ "Unlimited" scaling
                    * \- Complex
                    * \- Overhead: Network, Monitoring

                    <!-- .element: style="list-style-type: none;" -->

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Distributed search

                    ![Distributed Search](images/Distributed Search.png) <!-- .element: style="border: none; box-shadow: none;" -->

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Distributed search

                    * Partitioned index
                    * Distributed queries

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Partitioned index

                    * By term <!-- .element: class="fragment" -->
                    * By doc <!-- .element: class="fragment" -->

                    Notes:
                    What can the index be partitioned by? Think of the Inverted Index?
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Term-partitioned index

                    <p class="stretch">![Term-partitioned index](images/Term-partitioned index.png) <!-- .element: style="border: none; box-shadow: none;" --></p>

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Term-partitioned index

                    * \- Uneven distribution
                    * \- Inter-node communication
                    * \- Hard to update index

                    <!-- .element: style="list-style-type: none;" -->

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Document-partitioned index

                    <p class="stretch">![Document-partitioned index](images/Document-partitioned index.svg) <!-- .element: style="border: none; box-shadow: none;" --></p>
                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Document-partitioned index

                    * Number of nodes is fixed
                    * `node(doc) = id(doc) % num(nodes)`

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Distributed query

                    <p class="stretch">![Document-partitioned query](images/Document-partitioned query.svg) <!-- .element: style="border: none; box-shadow: none;" --></p>
                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Sharding

                    <p class="stretch">![sharding](images/Sharding.svg) <!-- .element: style="border: none; box-shadow: none;" --></p><!-- .element: class="fragment" -->

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Sharding nomenclature

                    ## Shard <!-- .element: class="fragment" -->

                    * Slice of document collection <!-- .element: class="fragment" -->

                    ## Master / Leader / Primary <!-- .element: class="fragment" -->

                    * Distribute requests to Replicas <!-- .element: class="fragment" -->
                    * Distribute requests to other Masters <!-- .element: class="fragment" -->

                    ## Replica <!-- .element: class="fragment" -->

                    * Contains all documents of shard <!-- .element: class="fragment" -->
                    * Will actually handle queries <!-- .element: class="fragment" -->
                    * Can become Master <!-- .element: class="fragment" -->

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Shards

                    <canvas class="chart stretch">
                        <!--
                        {
                            "type":"line",
                            "data":{
                                "labels":[
                                    "0",
                                    "1"
                                ],
                                "datasets":[
                                    {
                                        "data":[
                                            "0",
                                            "1"
                                        ],
                                        "label":"",
                                        "backgroundColor": "#ff8c00"
                                    }
                                ]
                            },
                            "options":{
                                "legend": {
                                    "display": false
                                },
                                "responsive":"true",
                                "scales":{
                                    "xAxes":[{
                                        "ticks": {
                                            "stepSize": 0.1,
                                            "display": false
                                        },
                                        "scaleLabel":{
                                            "display":true,
                                            "labelString":"Shards"
                                        },
                                        "gridLines": {
                                            "display": true
                                        }
                                    }],
                                    "yAxes":[{
                                        "ticks": {
                                            "stepSize":1,
                                            "display": false
                                        },
                                        "scaleLabel":{
                                            "display":true,
                                            "labelString":"Docs"
                                        },
                                        "gridLines": {
                                            "display": true
                                        }
                                    }]
                                }
                            }
                        }
                        -->
                    </canvas>

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Shards

                    <canvas class="chart stretch">
                        <!--
                        {
                            "type":"line",
                            "data":{
                                "labels":[
                                    "0",
                                    "1"
                                ],
                                "datasets":[
                                    {
                                        "data":[
                                            "0",
                                            "1"
                                        ],
                                        "label":"",
                                        "backgroundColor": "#ff8c00"
                                    }
                                ]
                            },
                            "options":{
                                "legend": {
                                    "display": false
                                },
                                "responsive":"true",
                                "scales":{
                                    "xAxes":[{
                                        "ticks": {
                                            "stepSize": 0.1,
                                            "display": false
                                        },
                                        "scaleLabel":{
                                            "display":true,
                                            "labelString":"Shards"
                                        },
                                        "gridLines": {
                                            "display": true
                                        }
                                    }],
                                    "yAxes":[{
                                        "ticks": {
                                            "stepSize":1,
                                            "display": false
                                        },
                                        "scaleLabel":{
                                            "display":true,
                                            "labelString":"Query Parallelization"
                                        },
                                        "gridLines": {
                                            "display": true
                                        }
                                    }]
                                }
                            }
                        }
                        -->
                    </canvas>

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Replicas

                    <canvas class="chart stretch">
                        <!--
                        {
                            "type":"line",
                            "data":{
                                "labels":[
                                    "0",
                                    "1"
                                ],
                                "datasets":[
                                    {
                                        "data":[
                                            "0",
                                            "1"
                                        ],
                                        "label":"",
                                        "backgroundColor": "#ff8c00"
                                    }
                                ]
                            },
                            "options":{
                                "legend": {
                                    "display": false
                                },
                                "responsive":"true",
                                "scales":{
                                    "xAxes":[{
                                        "ticks": {
                                            "stepSize": 0.1,
                                            "display": false
                                        },
                                        "scaleLabel":{
                                            "display":true,
                                            "labelString":"Replicas"
                                        },
                                        "gridLines": {
                                            "display": true
                                        }
                                    }],
                                    "yAxes":[{
                                        "ticks": {
                                            "stepSize":1,
                                            "display": false
                                        },
                                        "scaleLabel":{
                                            "display":true,
                                            "labelString":"Resiliency"
                                        },
                                        "gridLines": {
                                            "display": true
                                        }
                                    }]
                                }
                            }
                        }
                        -->
                    </canvas>

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Replicas

                    <canvas class="chart stretch">
                        <!--
                        {
                            "type":"line",
                            "data":{
                                "labels":[
                                    "0",
                                    "1"
                                ],
                                "datasets":[
                                    {
                                        "data":[
                                            "0",
                                            "1"
                                        ],
                                        "label":"",
                                        "backgroundColor": "#ff8c00"
                                    }
                                ]
                            },
                            "options":{
                                "legend": {
                                    "display": false
                                },
                                "responsive":"true",
                                "scales":{
                                    "xAxes":[{
                                        "ticks": {
                                            "stepSize": 0.1,
                                            "display": false
                                        },
                                        "scaleLabel":{
                                            "display":true,
                                            "labelString":"Replicas"
                                        },
                                        "gridLines": {
                                            "display": true
                                        }
                                    }],
                                    "yAxes":[{
                                        "ticks": {
                                            "stepSize":1,
                                            "display": false
                                        },
                                        "scaleLabel":{
                                            "display":true,
                                            "labelString":"Concurrency"
                                        },
                                        "gridLines": {
                                            "display": true
                                        }
                                    }]
                                }
                            }
                        }
                        -->
                    </canvas>

                    Notes:
                </script>
            </section>

        </section>

        <section>
            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Vector Space Model

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Vector Space Model

                    * Calculate similarity between
                        * queries and docs <!-- .element: class="fragment" -->
                        * docs and docs <!-- .element: class="fragment" -->
                        * queries and queries <!-- .element: class="fragment" -->

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Vector Space Model

                    * Queries / docs are vectors <!-- .element: class="fragment" -->
                    * Term-document matrix &rarr; document vector <!-- .element: class="fragment" -->

                    Notes:
                    How can a document be a vector?
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Document vector

                    |             | #1 | #2 | #3 |
                    |-------------|----|----|----|
                    | Book        | 10 | 3  |  0 |
                    | Information | 5  | 2  |  1 |
                    | Retrieval   | 0  | 0  |  2 |

                    ***

                    * $\vec{V}(\\#1)$ = (10, 5, 0) <!-- .element: class="fragment" -->
                    * $\vec{V}(\\#2)$ = (3, 2, 0) <!-- .element: class="fragment" -->
                    * $\vec{V}(\\#3)$ = (0, 1, 2) <!-- .element: class="fragment" -->

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    <p class="stretch">![Vectors](images/Vectors.svg) <!-- .element: style="border: none; box-shadow: none;" --></p>

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Vector distance

                    $$\textrm{d}(p, q) = \sqrt{(q_1 - p_1)^2 + (q_2 - p_2)^2}$$

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Vector distance

                    <p class="stretch">![Vector distance](images/Vector Distance.svg) <!-- .element: style="border: none; box-shadow: none;" --></p>

                    Notes:
                </script>
            </section>

            <section>
                <h1>Vector Difference</h1>

                \[\begin{aligned}
                \textrm{d}(\#1, \#2) & = \sqrt{(10 - 3)^2 + (5 - 2)^2} \\
                & = \sqrt{7^2 + 3^2} \\
                & = \sqrt{49 + 9} \\
                & = \sqrt{58} \\
                & \approx 7.62
                \end{aligned} \]

                <aside class="notes">

                </aside>

            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    <p class="stretch">![Vectors](images/Vectors.svg) <!-- .element: style="border: none; box-shadow: none;" --></p>

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    <p class="stretch">![Vector Similarity](images/Vector Similarity.svg) <!-- .element: style="border: none; box-shadow: none;" --></p>

                    Notes:
                </script>
            </section>

            <section>
                <h1>Unit vector</h1>

                $$\vec{v} = \frac{\vec{V} }{ |\vec{V}| }$$

                <aside class="notes">

                </aside>
            </section>

            <section>
                <h1>Unit vector</h1>

                \[\begin{aligned}
                \vec{v}(\#1) & = \frac{ \begin{pmatrix}10\\5\end{pmatrix} }{ \sqrt{10^2 + 5^2} } \\ \\
                & = \frac{ \begin{pmatrix}10\\5\end{pmatrix} }{ 11.18 } \\ \\
                & = \begin{pmatrix}0.89\\0.45\end{pmatrix}
                \end{aligned} \]

                <aside class="notes">

                </aside>
            </section>

            <section>
                <h1>Unit vector</h1>

                \[\begin{aligned}
                |\vec{v}(\#1)| & = \sqrt{0.89^2 + 0.45^2} \\
                & = \sqrt{1} \\
                & = 1
                \end{aligned}\]

            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Cosine similarity

                    $$\textrm{sim}(d_1, d_2) = \frac{ \vec{V}(d_1) }{ |\vec{V}(d_1)|} \cdot \frac{\vec{V}(d_2) }{ |\vec{V}(d_2)| } =
                    \frac{ \vec{V}(d_1) \vec{V}(d_2) }{ |\vec{V}(d_1)| |\vec{V}(d_2)| }$$

                    Notes:
                </script>
            </section>

            <section>
                <h1>Cosine similarity</h1>

                \[\begin{aligned}
                \textrm{sim}(d_1, d_2) & = \frac{ \begin{pmatrix}10 \\ 5\end{pmatrix} \cdot \begin{pmatrix}3 \\ 2\end{pmatrix} }{ \left|\begin{pmatrix}10 \\ 5\end{pmatrix}\right| \left|\begin{pmatrix}3 \\ 2\end{pmatrix}\right| } \\ \\
                & = \frac{30 + 10}{\sqrt{10^2 + 5^2} \sqrt{3^2 + 2^2}} \\
                & = \frac{40}{\sqrt{125} \sqrt{13}} \\
                & = \frac{40}{40.31} \\ \\
                & \approx 0.99
                \end{aligned}\]
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Query vector

                    * "*book*"
                    * $\vec{V}(q) = \begin{pmatrix}1 \\\\ 0\end{pmatrix}$ <!-- .element: class="fragment" -->

                    Notes:
                    What does the query vector look like?
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    <p class="stretch">![Vectors](images/Vectors.svg) <!-- .element: style="border: none; box-shadow: none;" --></p>

                    Notes:
                    What does the query vector look like?
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Query vector

                    <p class="stretch">![Query](images/Query Vector.svg) <!-- .element: style="border: none; box-shadow: none;" --></p>

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Query vector

                    $$sim(\\#1, q) = \frac{ \begin{pmatrix}10 \\\\ 5\end{pmatrix} \cdot \begin{pmatrix}1 \\\\ 0\end{pmatrix} }{ \left\|\begin{pmatrix}10 \\\\ 5\end{pmatrix}\right\| \left\|\begin{pmatrix}1 \\\\ 0\end{pmatrix}\right\| } = 0.89$$ <!-- .element: class="fragment" -->

                    $$sim(\\#2, q) = \frac{ \begin{pmatrix}3 \\\\ 2\end{pmatrix} \cdot \begin{pmatrix}1 \\\\ 0\end{pmatrix} }{ \left\|\begin{pmatrix}3 \\\\ 2\end{pmatrix}\right\| \left\|\begin{pmatrix}1 \\\\ 0\end{pmatrix}\right\| } = 0.83$$ <!-- .element: class="fragment" -->

                    Notes:
                </script>
            </section>

        </section>

        <section id="IV" data-markdown data-separator-notes="^Notes:">
            <script type="text/template">
                # IV

                ![under construction](images/under-construction.gif)

                Notes:
            </script>
        </section>

        <section>
            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Web search basics

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Challenges

                    * Authoritativeness
                        * Facts / lies
                        * Trustworthy / manipulative sites
                        * Is subjective
                    * Unstructured content
                    * Un-indexable content (images, flash)
                    * Web spam

                    Notes:
                 </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Internet structure

                    ![web graph](images/web graph.png)

                    * Directed graph connected by hyperinks
                    * Not strongly connected


                    Notes:
                 </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Nomenclature

                    ## In-links / Out-links

                    Incoming / Outgoing links

                    ## In-degree / Out-degree

                    Number of incoming / outgoing links

                    Notes:
                 </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Internet structure

                    ![bowtie](images/bowtie.png)

                    Notes:
                 </script>
            </section>
        </section>

        <section>
            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Web search usage

                    Notes:
                 </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Query types

                    * Informational: Find information
                    * Navigational: Find homepage
                    * Transactional: Find product

                    Notes:
                 </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Query syntax

                    * 2-3 keywords
                    * No boolean operators
                    * No wildcards
                    * Maybe phrases

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Conclusion

                    * Don't expect query syntax
                    * Keep result page lightweight

                    Notes:
                 </script>
            </section>
        </section>

        <section>
            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Economic model

                    Notes:
                 </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Economic model

                    * Advertising
                    * CPM: cost per mil, 1.000 impressions
                    * CPC: cost per click

                    Notes:
                 </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # History

                    * Sponsored search: Display banner of highest bidder for search query
                        * Goto, Overture
                    * Organic results + ads
                        * Google

                    Notes:
                </script>
            </section>
        </section>

        <section>
            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Web spam

                    Notes:
                 </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Types of web spam

                    * Keyword spam (exploits TF metric)
                    * Cloaking (show different page for human / crawler)
                    * Meta tags (

                    Notes:
                 </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Counter web spam

                    * Link analysis

                    Notes:
                 </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Counter counter web spam

                    * Link spam

                    Notes:
                 </script>
            </section>
        </section>

        <section>
            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Advertising as economic model of internet

                    Notes:
                 </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # SEM

                    * Search engine marketing
                    * Booking banners
                    * Can also be abused by clicking on competitors banners

                    Notes:
                 </script>
            </section>
        </section>

        <section>
            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Search user intents

                    * Information
                    * Keep SERP light
                    Notes:
                 </script>
            </section>
        </section>

        <section>
            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Index size and estimation

                    * Hard to get absolute numbers
                    * Easier to estimate relative sizes
                    1. Pick page
                      * From internet or other search engine
                    2. See if it is indexed

                    Notes:
                 </script>
            </section>
        </section>

        <section>
            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Duplicate content

                    Notes:
                 </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Duplicate content

                    * Probably 40% of all internet
                    * Fingerprinting not sufficient for near duplicates
                    * Generate 4-shingles
                    * Calculate Jaccard coefficient
                    * Needs lots of storage and pairwise comparison
                    * Improvements: MinHash, SimHash

                    Notes:
                 </script>
            </section>
        </section>

        <section>
            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Web crawling and indexes

                    Notes:
                </script>
            </section>
        </section>

        <section>
            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Web crawler requirements

                    * Robustness: Handle malicious and fault pages
                    * Politeness: Rate limit
                    * Distributed, scalable, efficient
                    * Quality: Focus on "good" pages
                    * Freshness: Keep index up-to-date
                    * Extensible: Data formats, protocols

                    Notes:
                 </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Crawling

                    1. Start with seed URL
                    2. Fetch URL
                    3. Extract text and links
                    4. Index text
                    5. Add links to queue
                    6. Follow links, goto 1

                    Notes:
                 </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Crawling challenges

                    * Distribute by host
                    * Duplicate content check is hard to distribute
                    * Cache DNS requests, use custom asynchronous DNS resolver
                    * Link queue is FIFO, bias toward high quality / frequently updates pages

                    Notes:
                 </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Distributing indexes

                    * Local index organization, partition by document
                    * Partition by hash(URL) instead of hash(host)

                    Notes: Why hash(URL) > hash(host)?
                 </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Connectivity servers

                    * Store web graph, in- and out-links
                    * Support graph queries: in- / out-links, in- / out-degree, traversal
                    * Build adjacency table TODO: image


                    Notes:
                 </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # What would Google do?

                    * Provide reliability on software level rather than hardware
                    * Focus on parallel queries, optimize for high throughput rather than individual performance
                    * Performance can be achieved by parallelization at CPU or cluster level
                    * Price/performance > peak performance
                    * 10s query that can be parallelized takes 1s on 10 nodes

                    ***

                    1. Query index servers: Inverted index, document-partitioned index, returns IDs of hits in order
                    2. Query document servers: Document-partitioned, snippet

                    ***

                    * Both types of servers replicated behind load balancer
                    * Try to make queries read-only to avoid consistency issues

                    ***

                    * TODO: images

                    Notes:
                 </script>
            </section>
        </section>

        <section>
            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Link analysis

                    Notes:
                </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Assumption

                    * Link is endorsement of target page
                    * Idea based on citation analysis
                    * Anchor text is good description of target page (eg. "computer manufacturer" links to ibm.com)
                    * Also text surrounding links
                    * May also be abused with negative link text to competitor

                    Notes:
                 </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # PageRank

                    * Rank pages with many in-links higher
                    * PageRank =~ in-degree
                    * Probability that random surfer will end up on page

                    ***

                    0. Assume random surfer
                    1. Randomly walk web graph
                      * Occasionally teleport
                      * Use damping factor (=~0.85) to simulate that user will not stop clicking at some point
                    2. Count how many times page is visited

                    ***

                    * Improvement: Reasonable surfer that ignores links in sidebars etc.

                    $$PR_{i}={\frac  {1-d}{n}}+d\,\sum _{{j\in \{1,\dots ,n\}}}{\frac  {PR_{j}}{c_{j}}}$$

                    Notes:
                 </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Specialized PageRanks

                    * Topic PageRank: Teleport only to pages within topic
                    * Personalized PageRank: Teleport to topics that user is interested in



                    Notes:
                 </script>
            </section>

            <section data-markdown data-separator-notes="^Notes:">
                <script type="text/template">
                    # Hubs and authorities

                    * Hubs provide links to authorities
                    * Authorities are authoritative on matter
                    * Good Hubs link to Authorities
                    * Good Authorities are linked by Hubs
                    * HITS (Hyperlink-Induced Topic Search)
                    * Build subset for topic by
                      1. Querying web for "topic" = root set
                      2. Add all in- or out-linked pages from root set = base set
                      * If root set contains Hub, then base set will contain Authorities
                      * If root set contains Authorities, then base set will contain Hubs


                    Notes:
                 </script>
            </section>
        </section>

        <section data-markdown data-separator-notes="^Notes:">
            <script type="text/template">
                # Missing topics

                * Clustering
                * Search Result Evaluation
                * Relevance feedback

                Notes:
            </script>
        </section>

        <section data-markdown data-separator-notes="^Notes:">
            <script type="text/template">
                # Feedback

                Notes:
            </script>
        </section>

        <section data-markdown data-separator-notes="^Notes:">
            <script type="text/template">
                # We're hiring

                <p class="stretch>">![Developers](images/developers.gif) <!-- .element: style="width: 60%;" --></p>

                Notes:
            </script>
        </section>

        <section data-markdown data-separator-notes="^Notes:">
            <script type="text/template">
                # Final projects

                Notes:
            </script>
        </section>

    </div>

</div>

<script src="lib/js/head.min.js"></script>
<script src="js/reveal.js"></script>

<script>

    // Full list of configuration options available at:
    // https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,
        width: 1600,
        height: 900,

        transition: 'slide', // none/fade/slide/convex/concave/zoom

        anything: [
            {
                className: "chart",
                initialize: (function (container, options) {
                    container.chart = new Chart(container.getContext("2d"), options);
                    Chart.defaults.global.defaultFontColor = "black";
                    Chart.defaults.global.defaultFontSize = 50;
                })
            }
        ],
        math: {
            mathjax: 'https://cdn.mathjax.org/mathjax/latest/MathJax.js',
            config: 'TeX-AMS_HTML-full'  // See http://docs.mathjax.org/en/latest/config-files.html
        },

        // Optional reveal.js plugins
        dependencies: [
            {
                src: 'lib/js/classList.js', condition: function () {
                return !document.body.classList;
            }
            },
            {
                src: 'plugin/markdown/marked.js', condition: function () {
                return !!document.querySelector('[data-markdown]');
            }
            },
            {
                src: 'plugin/markdown/markdown.js', condition: function () {
                return !!document.querySelector('[data-markdown]');
            }
            },
            {
                src: 'plugin/highlight/highlight.js', async: true, callback: function () {
                hljs.initHighlightingOnLoad();
            }
            },
            {src: 'plugin/zoom-js/zoom.js', async: true},
            {src: 'plugin/notes/notes.js', async: true},
            {src: 'socket.io/socket.io.js', async: true},
            {src: 'plugin/notes-server/client.js', async: true},
            {src: 'js/Chart.min.js'},
            {src: 'plugin/anything/anything.js'},
            { src: 'plugin/math/math.js', async: true }
        ]
    });

</script>

</body>
</html>
